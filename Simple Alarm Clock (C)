#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <string.h>

int main() {
    char alarm_time_str[6]; // HH:MM\0
    printf("Set alarm (HH:MM): ");
    if (scanf("%5s", alarm_time_str) != 1) return 1;

    printf("Alarm set for %s. Monitoring system time...\n", alarm_time_str);

    while (1) {
        time_t timer;
        struct tm* tm_info;
        char current_time_str[6];

        time(&timer);
        tm_info = localtime(&timer);

        // Format only HH:MM
        strftime(current_time_str, 6, "%H:%M", tm_info);

        if (strcmp(current_time_str, alarm_time_str) == 0) {
            printf("\n\n*** ALARM! It's %s! ***\n\n", alarm_time_str);
            break;
        }

        SLEEP(1); // Check every second
    }
    return 0;
}
